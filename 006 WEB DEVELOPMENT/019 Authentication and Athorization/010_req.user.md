## req.user :
req.user is not predefined by Express.
It is created and managed by Passport.js after successful authentication.

```js
module.exports.isLoggedIn = (req, res, next) => {
    console.log(req.user);
    if(!req.isAuthenticated()) {
        req.flash("error", "you must be logged in to create listing");
        return res.redirect("/login");
    }
    next();
};
```


#### Stored in Locals to acces in ejs template :
```js
app.use((req, res, next)=>{
  res.locals.success = req.flash("success");
  res.locals.error = req.flash("error");
  res.locals.currUser = req.user;
  next();
});
``` 